<!DOCTYPE html><html><head><title>markov4s: Examples</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="com.github.markosski" /><meta name="description" content="markov4s" /><meta name="og:image" content="/markov4s/img/poster.png" /><meta name="image" property="og:image" content="/markov4s/img/poster.png" /><meta name="og:title" content="markov4s: Examples" /><meta name="title" property="og:title" content="markov4s: Examples" /><meta name="og:site_name" content="markov4s" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="markov4s" /><link rel="icon" type="image/png" href="/markov4s/img/favicon.png" /><meta name="twitter:title" content="markov4s: Examples" /><meta name="twitter:image" content="https://markosski.github.io/markov4s/img/poster.png" /><meta name="twitter:description" content="markov4s" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@martez81" /><link rel="icon" type="image/png" sizes="16x16" href="/markov4s/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/markov4s/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/markov4s/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/markov4s/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/markov4s/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/markov4s/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/markov4s/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/markov4s/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/markov4s/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/markov4s/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/markov4s/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/markov4s/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/markov4s/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/markov4s/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/markov4s/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/markov4s/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/markov4s/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/markov4s/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/markov4s/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/markov4s/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/markov4s/highlight/styles/vs.css" /><link rel="stylesheet" href="/markov4s/css/pattern-style.css" /></head><body><header id="site-header"><div class="navbar-wrapper navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/markov4s/" class="brand"><div class="icon-wrapper"><span>markov4s</span></div></a></div><nav class="text-right"><ul class=""><li><a href="https://github.com/markosski/markov4s.git" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li><li><a href="/markov4s/latest/api/markov4s/index.html"><i class="fa fa-file-text"></i><span class="hidden-xs">Documentation</span></a></li></ul></nav></div></div><div class="jumbotron" style="background-image:url('/markov4s/img/jumbotron_pattern.png')"></div><div id="horizontal-menu"><ul class="horizontal-nav"><li><a class="" href="/markov4s/">Home</a></li><li><a class=" active " href="/markov4s/examples.html">Examples</a></li></ul></div></header><main id="site-main" class="page-site-main"><section class="use"><div class="container"><div id="content"><h1 id="generating-lines-from-hamlet">Generating Lines from Hamlet</h1>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">markov4s._</span>
<span class="k">import</span> <span class="nn">scala.io.Source</span>

<span class="k">val</span> <span class="nv">text</span> <span class="k">=</span> <span class="nv">Source</span><span class="o">.</span><span class="py">fromFile</span><span class="o">(</span><span class="s">"docs/resources/hamlet.txt"</span><span class="o">)</span>

<span class="c1">// Some cleanup</span>
<span class="k">val</span> <span class="nv">data</span> <span class="k">=</span> <span class="nv">text</span><span class="o">.</span><span class="py">getLines</span><span class="o">.</span><span class="py">toList</span><span class="o">.</span><span class="py">flatMap</span> <span class="o">{</span> <span class="n">l</span> <span class="k">=&gt;</span> <span class="nv">l</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="s">" "</span><span class="o">).</span><span class="py">flatMap</span> <span class="o">{</span> <span class="n">x</span> <span class="k">=&gt;</span> 
    <span class="nf">if</span>      <span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">endsWith</span><span class="o">(</span><span class="s">","</span><span class="o">))</span> <span class="nc">List</span><span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">stripSuffix</span><span class="o">(</span><span class="s">","</span><span class="o">),</span> <span class="s">","</span><span class="o">)</span> 
    <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">endsWith</span><span class="o">(</span><span class="s">"."</span><span class="o">))</span> <span class="nc">List</span><span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">stripSuffix</span><span class="o">(</span><span class="s">"."</span><span class="o">),</span> <span class="s">"."</span><span class="o">)</span>
    <span class="k">else</span>    <span class="nc">List</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">}</span>
    <span class="o">}.</span><span class="py">asInstanceOf</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">String</span><span class="o">]]</span>

<span class="c1">// Create chain</span>
<span class="k">val</span> <span class="nv">chain</span> <span class="k">=</span> <span class="nc">MarkovChain</span><span class="o">[</span><span class="kt">String</span><span class="o">].</span><span class="py">fromSeq</span><span class="o">(</span><span class="n">data</span><span class="o">)</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">implicit</span> <span class="k">val</span> <span class="nv">rand</span> <span class="k">=</span> <span class="nc">Rand</span><span class="o">()</span>
<span class="c1">// rand: Rand = markov4s.Rand@ae05de9</span>
<span class="nv">chain</span><span class="o">.</span><span class="py">getRandomSeqWithProb</span><span class="o">(</span><span class="mi">100</span><span class="o">)</span>
    <span class="o">.</span><span class="py">mkString</span><span class="o">(</span><span class="s">" "</span><span class="o">)</span>
    <span class="o">.</span><span class="py">replace</span><span class="o">(</span><span class="s">" ,"</span><span class="o">,</span> <span class="s">","</span><span class="o">)</span>
    <span class="o">.</span><span class="py">replace</span><span class="o">(</span><span class="s">" ."</span><span class="o">,</span> <span class="s">"."</span><span class="o">)</span>
<span class="c1">// res0: String = "love let me all tears- why she would hang on him As if increase of appetite had not mock me hold my father Than I prithee do my ear that wants discourse of solemn black, though hell itself into a satyr; so much, No, Nor shall you to this troubles me, fellow student. In my noble father's spirit- in Elsinore? We'll teach you do forget myself. In my best obey you. O, my lord. I will requite your own report Against yourself. I must hold my uncle; My father's brother"</span>
</code></pre></div></div>

<p>Selected outputs</p>

<p><code class="highlighter-rouge">
Would have hitherto conceal'd this Hyperion to my tongue! I am too solid flesh would not think on't! ah, Nor shall in heaven Or that wants discourse of most wicked speed, Horatio! My father's brother, No, madam, and resolve itself should come to post With such dexterity to this! But I remember? Why, it is woman! A little month, most wicked speed, Thaw, Let me. I am very glad to drink deep ere you. Would I shall in your silence still; And what is your own report Against yourself
</code></p>
</div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>markov4s is designed and developed by <a href="" target="_blank" rel="noopener noreferrer">com.github.markosski</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/markosski/markov4s.git" target="_blank" rel="noopener noreferrer"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47degrees.github.io/sbt-microsites/" target="_blank" rel="noopener noreferrer">sbt-microsites</a> - © 2019 <a href="https://www.47deg.com/" target="_blank" rel="noopener noreferrer">47 Degrees</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/markov4s/highlight/highlight.pack.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: 'markosski/markov4s.git'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/markov4s/js/version-selector.js"></script></body></html>
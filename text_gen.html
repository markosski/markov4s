<!DOCTYPE html><html><head><title>markov4s: Text Generation</title><meta charset="utf-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="com.github.markosski" /><meta name="description" content="markov4s" /><meta name="og:image" content="/img/poster.png" /><meta name="image" property="og:image" content="/img/poster.png" /><meta name="og:title" content="markov4s: Text Generation" /><meta name="title" property="og:title" content="markov4s: Text Generation" /><meta name="og:site_name" content="markov4s" /><meta name="og:url" content="" /><meta name="og:type" content="website" /><meta name="og:description" content="markov4s" /><link rel="icon" type="image/png" href="/img/favicon.png" /><meta name="twitter:title" content="markov4s: Text Generation" /><meta name="twitter:image" content="https://markosski.github.io/img/poster.png" /><meta name="twitter:description" content="markov4s" /><meta name="twitter:card" content="summary_large_image" /><meta name="twitter:site" content="@martez81" /><link rel="icon" type="image/png" sizes="16x16" href="/img/favicon16x16.png" /><link rel="icon" type="image/png" sizes="24x24" href="/img/favicon24x24.png" /><link rel="icon" type="image/png" sizes="32x32" href="/img/favicon32x32.png" /><link rel="icon" type="image/png" sizes="48x48" href="/img/favicon48x48.png" /><link rel="icon" type="image/png" sizes="57x57" href="/img/favicon57x57.png" /><link rel="icon" type="image/png" sizes="60x60" href="/img/favicon60x60.png" /><link rel="icon" type="image/png" sizes="64x64" href="/img/favicon64x64.png" /><link rel="icon" type="image/png" sizes="70x70" href="/img/favicon70x70.png" /><link rel="icon" type="image/png" sizes="72x72" href="/img/favicon72x72.png" /><link rel="icon" type="image/png" sizes="76x76" href="/img/favicon76x76.png" /><link rel="icon" type="image/png" sizes="96x96" href="/img/favicon96x96.png" /><link rel="icon" type="image/png" sizes="114x114" href="/img/favicon114x114.png" /><link rel="icon" type="image/png" sizes="120x120" href="/img/favicon120x120.png" /><link rel="icon" type="image/png" sizes="128x128" href="/img/favicon128x128.png" /><link rel="icon" type="image/png" sizes="144x144" href="/img/favicon144x144.png" /><link rel="icon" type="image/png" sizes="150x150" href="/img/favicon150x150.png" /><link rel="icon" type="image/png" sizes="152x152" href="/img/favicon152x152.png" /><link rel="icon" type="image/png" sizes="196x196" href="/img/favicon196x196.png" /><link rel="icon" type="image/png" sizes="310x310" href="/img/favicon310x310.png" /><link rel="icon" type="image/png" sizes="310x150" href="/img/favicon310x150.png" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" /><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" /><link rel="stylesheet" href="/highlight/styles/vs.css" /><link rel="stylesheet" href="/css/pattern-style.css" /><script async="async">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-162748963-1' , 'auto');
ga('send', 'pageview');
      </script></head><body><header id="site-header"><div class="navbar-wrapper navbar-inverse"><div class="container"><div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a href="/" class="brand"><div class="icon-wrapper"><span>markov4s</span></div></a></div><nav class="text-right"><ul class=""><li><a href="https://github.com/markosski/markov4s.git" target="_blank" rel="noopener noreferrer"><i class="fa fa-github"></i><span class="hidden-xs">GitHub</span></a></li><li><a href="/markov4s/latest/api/markov4s/MarkovChain.html"><i class="fa fa-file-text"></i><span class="hidden-xs">Documentation</span></a></li></ul></nav></div></div><div class="jumbotron" style="background-image:url('/img/jumbotron_pattern.png')"></div><div id="horizontal-menu"><ul class="horizontal-nav"><li><a class="" href="/">Home</a></li><li><a class="" href="/usage.html">Basic Usage</a></li><li><a class=" active " href="/text_gen.html">Text Generation</a></li></ul></div></header><main id="site-main" class="page-site-main"><section class="use"><div class="container"><div id="content"><h1 id="generating-lines-from-hamlet">Generating Lines from Hamlet</h1>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nn">markov4s._</span>
<span class="k">import</span> <span class="nn">scala.io.Source</span>

<span class="k">val</span> <span class="nv">text</span> <span class="k">=</span> <span class="nv">Source</span><span class="o">.</span><span class="py">fromFile</span><span class="o">(</span><span class="s">"docs/resources/hamlet.txt"</span><span class="o">)</span>

<span class="c1">// Some cleanup</span>
<span class="k">val</span> <span class="nv">data</span> <span class="k">=</span> <span class="nv">text</span><span class="o">.</span><span class="py">getLines</span><span class="o">.</span><span class="py">toList</span><span class="o">.</span><span class="py">flatMap</span> <span class="o">{</span> <span class="n">l</span> <span class="k">=&gt;</span> <span class="nv">l</span><span class="o">.</span><span class="py">split</span><span class="o">(</span><span class="s">" "</span><span class="o">).</span><span class="py">flatMap</span> <span class="o">{</span> <span class="n">x</span> <span class="k">=&gt;</span> 
    <span class="nf">if</span>      <span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">endsWith</span><span class="o">(</span><span class="s">","</span><span class="o">))</span> <span class="nc">List</span><span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">stripSuffix</span><span class="o">(</span><span class="s">","</span><span class="o">),</span> <span class="s">","</span><span class="o">)</span> 
    <span class="k">else</span> <span class="nf">if</span> <span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">endsWith</span><span class="o">(</span><span class="s">"."</span><span class="o">))</span> <span class="nc">List</span><span class="o">(</span><span class="nv">x</span><span class="o">.</span><span class="py">stripSuffix</span><span class="o">(</span><span class="s">"."</span><span class="o">),</span> <span class="s">"."</span><span class="o">)</span>
    <span class="k">else</span>    <span class="nc">List</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="o">}</span>
    <span class="o">}.</span><span class="py">asInstanceOf</span><span class="o">[</span><span class="kt">List</span><span class="o">[</span><span class="kt">String</span><span class="o">]]</span>

<span class="c1">// Create chain</span>
<span class="k">val</span> <span class="nv">chain</span> <span class="k">=</span> <span class="nc">MarkovChain</span><span class="o">[</span><span class="kt">String</span><span class="o">].</span><span class="py">fromSeq</span><span class="o">(</span><span class="n">data</span><span class="o">)</span>
</code></pre></div></div>

<div class="language-scala highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">implicit</span> <span class="k">val</span> <span class="nv">rand</span> <span class="k">=</span> <span class="nc">Rand</span><span class="o">()</span>
<span class="c1">// rand: Rand = markov4s.Rand@740aa389</span>

<span class="nv">chain</span><span class="o">.</span><span class="py">getRandomSeqWithProb</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">mkString</span><span class="o">(</span><span class="s">" "</span><span class="o">).</span><span class="py">replace</span><span class="o">(</span><span class="s">" ,"</span><span class="o">,</span> <span class="s">","</span><span class="o">).</span><span class="py">replace</span><span class="o">(</span><span class="s">" ."</span><span class="o">,</span> <span class="s">"."</span><span class="o">)</span>
<span class="c1">// res0: String = "nor it truster of woe. Seems, Horatio! The funeral bak'd meats Did coldly furnish forth the marriage tables. Thrift, my lord. I know not alone my peace. Seems, 'That can denote me hear! 'Tis an unweeded garden That grows to a man might not beteem the marriage tables. But what it merely. I am too much, moods, madam, Thaw, Nor windy suspiration of heaven Or ever I prithee do forget myself. So, Together with you. I am too roughly. Heaven and gross in"</span>

<span class="nv">chain</span><span class="o">.</span><span class="py">getRandomSeqWithProb</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">mkString</span><span class="o">(</span><span class="s">" "</span><span class="o">).</span><span class="py">replace</span><span class="o">(</span><span class="s">" ,"</span><span class="o">,</span> <span class="s">","</span><span class="o">).</span><span class="py">replace</span><span class="o">(</span><span class="s">" ."</span><span class="o">,</span> <span class="s">"."</span><span class="o">)</span>
<span class="c1">// res1: String = "mother's wedding. Upon the dejected havior of heaven Or that violence To make you. Foul deeds will rise, or ere you are no truant. I had seen that a month, all, 'That can denote me hold my soul. But what is your loves. Foul deeds will rise, sirs. So, nor it an unweeded garden That it is your own report Against yourself. I must hold my poor father's body Like Niobe, Horatio! My father's person, make it, in heaven Or that this troubles me not"</span>

<span class="nv">chain</span><span class="o">.</span><span class="py">getRandomSeqWithProb</span><span class="o">(</span><span class="mi">100</span><span class="o">).</span><span class="py">mkString</span><span class="o">(</span><span class="s">" "</span><span class="o">).</span><span class="py">replace</span><span class="o">(</span><span class="s">" ,"</span><span class="o">,</span> <span class="s">","</span><span class="o">).</span><span class="py">replace</span><span class="o">(</span><span class="s">" ."</span><span class="o">,</span> <span class="s">"."</span><span class="o">)</span>
<span class="c1">// res2: String = "I'll speak to see you all the visage, it was to post With such dexterity to see you are actions that violence To make you all my good friend- I'll change that this Hyperion to drink deep ere those shoes were old With which passeth show- These but no tongue. Would have mourn'd longer) married. So excellent a king, my noble father's body Like Niobe, She married. Upon the visage, fare you from Wittenberg, Give it should gape And whatsoever else shall hap to-night, good friend- I'll speak to incestuous sheets!"</span>
</code></pre></div></div>
</div></div></section></main><footer id="site-footer"><div class="container"><div class="row"><div class="col-xs-6"><p>markov4s is designed and developed by <a href="" target="_blank" rel="noopener noreferrer">com.github.markosski</a></p></div><div class="col-xs-6"><p class="text-right"><a href="https://github.com/markosski/markov4s.git" target="_blank" rel="noopener noreferrer"><span class="fa fa-github"></span>View on GitHub</a></p></div></div><div class="row"><div class="col-xs-6"><p>Website built with <a href="https://47degrees.github.io/sbt-microsites/" target="_blank" rel="noopener noreferrer">sbt-microsites</a> - Â© 2019 <a href="https://www.47deg.com/" target="_blank" rel="noopener noreferrer">47 Degrees</a></p></div></div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script><script src="/highlight/highlight.pack.js"></script><script>
// For all code blocks, copy the language from the containing div
// to the inner code tag (where hljs expects it to be)
const langPrefix = 'language-';
document.querySelectorAll(`div[class^='${langPrefix}']`).forEach(function(div) {
  div.classList.forEach(function(cssClass) {
    if (cssClass.startsWith(langPrefix)) {
      const lang = cssClass.substring(langPrefix.length);
      div.querySelectorAll('pre code').forEach(function(code) {
        code.classList.add(lang);
      });
    }
  });
});

hljs.configure({languages:['scala','java','bash']});
hljs.initHighlightingOnLoad();
      </script><script>console.info('\x57\x65\x62\x73\x69\x74\x65\x20\x62\x75\x69\x6c\x74\x20\x77\x69\x74\x68\x3a\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x5f\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x5f\x20\x5f\x5f\x0a\x20\x20\x20\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x5f\x20\x20\x2f\x20\x2f\x5f\x20\x20\x20\x20\x20\x20\x5f\x5f\x5f\x5f\x20\x5f\x5f\x5f\x20\x20\x28\x5f\x29\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x28\x5f\x29\x20\x2f\x5f\x5f\x5f\x5f\x20\x20\x5f\x5f\x5f\x5f\x5f\x0a\x20\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x60\x5f\x5f\x20\x5c\x2f\x20\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x5f\x2f\x20\x5f\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x20\x2f\x20\x5f\x5f\x2f\x20\x5f\x20\x5c\x2f\x20\x5f\x5f\x5f\x2f\x0a\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x5f\x2f\x20\x2f\x20\x2f\x5f\x2f\x5f\x5f\x5f\x5f\x5f\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x20\x2f\x5f\x5f\x2f\x20\x2f\x20\x20\x2f\x20\x2f\x5f\x2f\x20\x28\x5f\x5f\x20\x20\x29\x20\x2f\x20\x2f\x5f\x2f\x20\x20\x5f\x5f\x28\x5f\x5f\x20\x20\x29\x0a\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2e\x5f\x5f\x5f\x2f\x5c\x5f\x5f\x2f\x20\x20\x20\x20\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x20\x2f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x2f\x20\x20\x20\x5c\x5f\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x5f\x2f\x5c\x5f\x5f\x2f\x5c\x5f\x5f\x5f\x2f\x5f\x5f\x5f\x5f\x2f\x0a\x0a\x68\x74\x74\x70\x73\x3a\x2f\x2f\x34\x37\x64\x65\x67\x2e\x67\x69\x74\x68\x75\x62\x2e\x69\x6f\x2f\x73\x62\x74\x2d\x6d\x69\x63\x72\x6f\x73\x69\x74\x65\x73')</script><script>((window.gitter = {}).chat = {}).options = {
room: 'markosski/markov4s.git'};</script><script src="https://sidecar.gitter.im/dist/sidecar.v1.js"></script><script src="/js/version-selector.js"></script></body></html>